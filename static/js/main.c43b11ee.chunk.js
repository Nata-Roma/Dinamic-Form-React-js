(this["webpackJsonptest-form"]=this["webpackJsonptest-form"]||[]).push([[0],{11:function(e,t,a){},12:function(e,t,a){},14:function(e){e.exports=JSON.parse('[{"id":"name","type":"text","label":"Name","required":true},{"id":"dob","type":"date","label":"Date","required":true},{"id":"gender","type":"","label":"Gender","required":false},{"id":"contacts","options":[{"id":"mobile","type":"text","label":"Mobile","required":false},{"id":"home","type":"text","label":"Home","required":false}]},{"id":"guardian","options":[{"id":"guardianName","type":"text","label":"Guardian","required":true},{"id":"guardianContact","type":"text","label":"Guardian","required":true}]}]')},15:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(6),c=a.n(i),u=(a(11),a.p,a(12),a(4)),s=a(2),l=a(3),d=a(0),o=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),u=Object(l.a)(c,2),s=u[0],o=u[1],b=e.setOutput;return Object(d.jsx)("div",{children:e.options.map((function(e){var t=e.id,a=e.type,n=e.label,c=e.required,u=void 0!==c&&c;return Object(d.jsxs)("div",{className:"inner-container",children:[Object(d.jsxs)("label",{htmlFor:t,className:"label",children:[n," phone"]}),Object(d.jsx)("input",{type:a,pattern:"\\d+",required:u,name:t,placeholder:n,value:"mobile"===t?r:s,onChange:function(e){"mobile"===t?i(e.target.value):o(e.target.value),b(e.target)},className:"input"})]},t)}))})},b=function(e){var t=e.id,a=e.type,r=e.required,i=void 0!==r&&r,c=e.setOutput,u=Object(n.useState)(""),s=Object(l.a)(u,2),o=s[0],b=s[1],j=Object(n.useRef)(),O=new Date;O.setFullYear(O.getFullYear()-18);return Object(d.jsxs)("div",{className:"inner-container",children:[Object(d.jsx)("label",{htmlFor:t,className:"label",children:"Date of your birthday (your age should be over 18):"}),Object(d.jsx)("input",{type:a,name:t,id:t,value:o,max:O.toJSON().slice(0,10),required:i,onChange:function(e){!function(e){var t=j.current;t.validity.valid?t.validity.valid&&t.setCustomValidity(""):t.setCustomValidity("Please choose your date of birth"),b(e.target.value)}(e),c(e.target)},className:"input",ref:j})]})},j=function(e){var t=e.id,a=e.required,r=void 0!==a&&a,i=e.setOutput,c=Object(n.useState)(""),u=Object(l.a)(c,2),s=u[0],o=u[1];return Object(d.jsxs)("div",{className:"inner-container",children:[Object(d.jsx)("label",{htmlFor:t,className:"label",children:"Gender:"}),Object(d.jsxs)("select",{id:t,name:t,value:s,required:r,onChange:function(e){o(e.target.value),i(e.target)},className:"input",children:[Object(d.jsx)("option",{value:"0",children:"---"}),Object(d.jsx)("option",{value:"1",children:"Male"}),Object(d.jsx)("option",{value:"2",children:"Female"})]})]})},O=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(l.a)(c,2),o=s[0],b=s[1],j=Object(n.useState)(""),O=Object(l.a)(j,2),m=O[0],p=O[1],h=e.id,v=e.options,f=e.setOutput;return Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"guardian",className:"label",children:"Require guardian consent:"}),Object(d.jsx)("input",{type:"checkbox",id:h,name:h,checked:r,onChange:function(){i(!r),r||(b(""),p(""))},"data-testid":"checkbox"}),r&&v.map((function(e){var t,a=e.id,n=e.type,i=e.required,c=void 0!==i&&i;return Object(d.jsx)("div",{className:"inner-container",children:Object(d.jsx)("input",(t={type:n,name:a,value:"guardianName"===a?o:m,placeholder:a,title:"Please enter guardian's ".concat("guardianName"===a?"name":"contact"),required:c,onChange:function(e){"guardianName"===a?b(e.target.value):p(e.target.value),f(e.target)}},Object(u.a)(t,"required",r),Object(u.a)(t,"className","input guardian"),Object(u.a)(t,"data-testid","guardian"),t))},a)}))]})},m=function(e){var t=e.id,a=e.type,r=e.required,i=void 0!==r&&r,c=e.label,u=e.setOutput,s=Object(n.useState)(""),o=Object(l.a)(s,2),b=o[0],j=o[1],O=Object(n.useRef)();return Object(d.jsxs)("div",{className:"inner-container",children:[Object(d.jsx)("label",{htmlFor:t,className:"label",children:"Your first and last name:"}),Object(d.jsx)("input",{type:a,name:t,id:t,pattern:"\\S+ \\S+.*",value:b,required:i,placeholder:c,title:"Please enter your first and last name",onChange:function(e){!function(e){var t=O.current;t.validity.patternMismatch?t.setCustomValidity("Please enter your first and last name"):t.validity.patternMismatch||t.setCustomValidity(""),j(e.target.value)}(e),u(e.target)},className:"input","data-testid":"inputName",ref:O})]})},p=function(e){var t=e.input,a=Object(n.useState)({}),r=Object(l.a)(a,2),i=r[0],c=r[1],p=function(e){var t=e.name,a=e.value,n={};switch(t){case"mobile":case"home":n=Object(s.a)(Object(s.a)({},i),{},{contact:Object(s.a)(Object(s.a)({},i.contact),{},Object(u.a)({},t,a))});break;case"guardianName":case"guardianContact":n=Object(s.a)(Object(s.a)({},i),{},{guardian:Object(s.a)(Object(s.a)({},i.guardian),{},Object(u.a)({},t,a))});break;default:n=Object(s.a)(Object(s.a)({},i),{},Object(u.a)({},t,a))}c(n)};return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Dinamic Form"}),Object(d.jsx)("p",{children:"Please enter your data"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Object(s.a)({},i);c({}),alert("Form output: ".concat(JSON.stringify(t)))},className:"form","data-testid":"form",children:[t.map((function(e){var t=function(e){switch(e){case"name":return m;case"dob":return b;case"gender":return j;case"contacts":return o;case"guardian":return O;default:return}}(e.id);return Object(n.createElement)(t,Object(s.a)(Object(s.a)({},e),{},{setOutput:p,key:e.id}))})),Object(d.jsx)("button",{className:"submit","data-testid":"button",children:"Submit"})]})]})};var h=function(){var e=a(14);return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(p,{input:e})})},v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(h,{})}),document.getElementById("root")),v()}},[[15,1,2]]]);
//# sourceMappingURL=main.c43b11ee.chunk.js.map